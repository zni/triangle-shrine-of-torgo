<html>
    <head>
        <script type="text/javascript" src="util/rand.js"></script>
        <script type="text/javascript" src="util/colorpicker.js"></script>
        <script type="text/javascript" src="patterns/bars.js"></script>
        <script type="text/javascript" src="tinycolor.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet'>
    <style>
    body {
        font-family: 'Abel', sans-serif; 
        font-size: 22px;
    }
    canvas {
        padding: 0;
        margin: auto;
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-style: solid;
        border-width: 1px;
        border-color: #666;
    }
    </style>
    </head>
    <body bgcolor="#333">
        <canvas id="foo" width="200" height="100">
        Your browser does not support the HTML5 canvas tag.
        </canvas>

        <script>
            var interval;
            var c = document.getElementById("foo");
            var max_height = 500;
            var max_width = 500;
            c.width = max_width;
            c.height = max_height;
            var ctx = c.getContext("2d");

            var speed = document.getElementById("speed");
            var randomLength = document.getElementById("rlength");
            var bars = new Bars(ctx,
                                max_width,
                                max_height,
                                cmyk,
                                20,
                                false);
            interval = setInterval(bars.run.bind(bars), 500);
            c.addEventListener("mouseenter",
                               function (e) {
                                   // clearInterval(interval);
                                   bars.color = new ColorPicker(gray7);
                               },
                               true);
            c.addEventListener("mouseleave",
                               function (e) {
                                   interval = setInterval(bars.run.bind(bars), 500)
                                   bars.color = new ColorPicker(cmyk);
                               },
                               true); 
        </script>
    </body>
</html>
